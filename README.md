# O3GO Campaigner

–ö–∞–º–ø–µ–π–Ω–µ—Ä ‚Äî —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å—Å—ã–ª–∫–∞–º–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π —Å —É—á–µ—Ç–æ–º –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–∞–º–ø–∞–Ω–∏–π. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏—è–º–∏ —á–µ—Ä–µ–∑ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∏ –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ API.

## –†–∞–±–æ—Ç–∞ —Å –ª–∏—á–Ω—ã–º –∫–∞–±–∏–Ω–µ—Ç–æ–º
–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã —Å API –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –∫–∞–º–ø–∞–Ω–∏—é –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ.

### 1. –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–º–ø–∞–Ω–∏–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä             | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                                                                   |
|----------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| Campaign Name        | –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞.                                                                                                     |
| Webhook URL          | URL –∞–¥—Ä–µ—Å –≤–Ω–µ—à–Ω–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π. –°–∏—Å—Ç–µ–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å—ã —Å –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å—Ç–∞—Ç—É—Å–∞—Ö –¥–æ—Å—Ç–∞–≤–∫–∏. |
| API Keys             | –ö–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–∞, –∫–æ—Ç–æ—Ä—ã–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (–∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤).                                             |
| Data Source          | –ò—Å—Ç–æ—á–Ω–∏–∫ (–º–µ—Ç–æ–¥) –∑–∞–≥—Ä—É–∑–∫–∏ –±–∞–∑—ã –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ (–∏–∑ —Ñ–∞–π–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, CSV) –∏–ª–∏ —Å—Ç–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤—Ä—É—á–Ω—É—é –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ).                            
| Skip Rows            | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–≥—Ä—É–∂–∞–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞ –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —Ç–∞–±–ª–∏—Ü—ã.                                          |
| Row Separator        | –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å —Å—Ç—Ä–æ–∫ –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–∏ –±–∞–∑—ã –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –≤—Ä—É—á–µ—É—é.                                                                                      |
| Column Separator     | –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –∫–æ–ª–æ–Ω–æ–∫ –≤ —Å—Ç—Ä–æ–∫–∞—Ö –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–∏ –±–∞–∑—ã –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –≤—Ä—É—á–µ—É—é.                                                                          |
| Phone Number         | –ü–æ–ª–µ, —Å–æ–¥–µ—Ä–∂–∞—â–µ–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –≤ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ —Å—Ç—Ä–æ–∫–∏).                                         |
| Custom Field 1‚Äì3     | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–æ–ª—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ —Å—Ç—Ä–æ–∫–∏).                                 |
| Order                | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∫–∞–º–ø–∞–Ω–∏–∏ –≤ –ø–æ—Ä—è–¥–∫–µ –æ—á–µ—Ä–µ–¥–∏. 1 - –Ω–∞–∏–≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç. –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å –Ω–∞–∏–º–µ–Ω—å—à–∏–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º. |
| Message Attempts     | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ–¥–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è.                                                                                 |
| Sending Timeout      | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è, –ø–æ—Å–ª–µ —á–µ–≥–æ –æ–Ω–æ –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ ‚ÄúUndelivered‚Äù.                                                |
| Status Timeout       | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è, –ø–æ—Å–ª–µ —á–µ–≥–æ –æ–Ω–æ –ø–æ–º–µ—á–∞—é—Ç—Å—è –∫–∞–∫ ‚ÄúUndelivered‚Äù.                                        |                                                                                                                                     |
| Start at / Finish at | –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–∞–º–ø–∞–Ω–∏–∏.                                                                                                 |
| Scheduler            | –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏ –∏ —á–∞—Å–∞–º. –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è, –µ—Å–ª–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –ø–æ–ª—è Start at –∏–ª–∏ Finish at.                            |

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π

–°–æ–æ–±—â–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω—ã –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏. –î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —à–∞–±–ª–æ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 3 –∫–∞—Ç–æ–º–Ω—ã—Ö –ø–æ–ª—è.

#### –ü—Ä–∏–º–µ—Ä —à–∞–±–ª–æ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è:

```bash
–ü—Ä–∏–≤–µ—Çc—Ç–≤—É–µ–º –í–∞—Å, —É–≤–∞–∂–∞–µ–º—ã–π {field_1} {field_2} {field_3}! –ü–æ–ª—É—á–∏—Ç–µ 500 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Å–ø–∏–Ω–æ–≤ –∏ –±–æ–Ω—É—Å –Ω–∞ –ø–µ—Ä–≤—ã–π –¥–µ–ø–æ–∑–∏—Ç ‚Äî –Ω–∞—á–Ω–∏ –≤—ã–∏–≥—Ä—ã–≤–∞—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å! üé∞
```

–ì–¥–µ:
- {field_1} ‚Äî —Ñ–∞–º–∏–ª–∏—è,
- {field_2} ‚Äî –∏–º—è,
- {field_3} ‚Äî –æ—Ç—á–µ—Å—Ç–≤–æ.

## –†–∞–±–æ—Ç–∞ —Å API

### 1. –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —á–µ—Ä–µ–∑ API

–î–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ HTTP-–∑–∞–ø—Ä–æ—Å–∞—Ö –∫ API –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å API Key –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –∑–∞–ø—Ä–æ—Å–∞ –∏–ª–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ query –ø–∞—Ä–∞–º–µ—Ç—Ä–∞

#### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:

```bash
curl -X 'POST' \
  'http://<your-server>/ext/api/v1/messages/send' \
  -H 'accept: application/json' \
  -H 'X-Api-Key: <your-api-key>' \
  -H 'Content-Type: application/json' \
  -d '[
  {
    "id": 123,
    "campaign_id": 1,
    "dst_addr": "79201234567",
    "text": "–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è",
    "field_1": "–ò–≤–∞–Ω–æ–≤",
    "field_2": "–ò–≤–∞–Ω",
    "field_3": "–ò–≤–∞–Ω–æ–≤–∏—á"
  }
]'
```

```bash
curl -X 'POST' \
  'http://<your-server>/ext/api/v1/messages/send?x-api-key=<your-api-key' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '[
  {
    "id": 123,
    "campaign_id": 1,
    "dst_addr": "79201234567",
    "text": "–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è",
    "field_1": "–ò–≤–∞–Ω–æ–≤",
    "field_2": "–ò–≤–∞–Ω",
    "field_3": "–ò–≤–∞–Ω–æ–≤–∏—á"
  }
]'
```

#### –ü–æ–ª—è –∑–∞–ø—Ä–æ—Å–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä    | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ                                                                |
|-------------|-----|--------------|-------------------------------------------------------------------------|
| id          | str | –Ω–µ—Ç          | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è –≤–æ –≤–Ω–µ—à–Ω–µ–π —Å–∏—Å—Ç–µ–º–µ. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ webhook.     |
| campaign_id | int | –¥–∞           | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞–º–ø–∞–Ω–∏–∏, –≤ —Ä–∞–º–∫–∞—Ö –∫–æ—Ç–æ—Ä–æ–π –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ.        |
| dst_addr    | str | –¥–∞           | –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è.                                              |
| text        | str | –Ω–µ—Ç          | –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è. –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω, —à–∞–±–ª–æ–Ω –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–∞–º–ø–∞–Ω–∏–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è. |
| field_1‚Äì3   | str | –Ω–µ—Ç          | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤ —à–∞–±–ª–æ–Ω.                           |

#### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ (200 OK)

```bash
[
  {
    "text": "–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è",
    "campaign_id": 1,
    "field_1": "–ò–≤–∞–Ω–æ–≤",
    "field_2": "–ò–≤–∞–Ω",
    "field_3": "–ò–≤–∞–Ω–æ–≤–∏—á",
    "ext_id": "123",
    "dst_addr": "79201234567",
    "attempts": 3
  }
]
```

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π

–ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç webhook-–∑–∞–ø—Ä–æ—Å –Ω–∞ Webhook URL, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ –Ω–∞—Å—Ç—Ä–æ–π–∞—Ö –∫–∞–º–ø–∞–Ω–∏–∏ –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏ –ø–µ—Ä–µ–¥–∞—á–∏ —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –≤–Ω–µ—à–Ω–µ–≥–æ ID

#### –ü—Ä–∏–º–µ—Ä webhook-–∑–∞–ø—Ä–æ—Å–∞

```bash
curl -X 'POST' \
  'http://<your-server>/webhook/' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
    "id": 123,
    "status": "delivered"
  }'
```

#### –ü–æ–ª—è webhook-–∑–∞–ø—Ä–æ—Å–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ                                      |
|----------|-----|-----------------------------------------------|
| id       | str | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è –≤–æ –≤–Ω–µ—à–Ω–µ–π —Å–∏—Å—Ç–µ–º–µ    |
| status   | str | –°—Ç–∞—Ç—É—Å —Å–æ–æ–±—â–µ–Ω–∏—è (delivered –∏–ª–∏ undelivered). |
